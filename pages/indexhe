<template>
  <div class="flex flex-col min-h-screen relative">
    <div class="absolute inset-0 z-0">
      <div class="w-full h-full bg-[url('https://images.unsplash.com/photo-1598514982900-402b578e5f2c')] bg-cover bg-center brightness-90"></div>
    </div>

    <div class="relative z-10 flex flex-col min-h-screen text-gray-900 bg-white/60 backdrop-blur-sm">
      <Header />

      <main class="flex-grow">
        <div class="sticky top-0 z-50 bg-white/90 backdrop-blur shadow-md">
          <MenuTabs :categories="categories" @selectCategory="selected = $event" />
        </div>

        <div class="p-4 max-w-4xl mx-auto space-y-10">
          <MenuSectionHebrew
            v-for="cat in filteredCategories"
            :key="cat.name"
            :title="cat.name"
            :items="cat.items"
          />
        </div>
      </main>

      <Footer />
    </div>
  </div>
</template>

<script setup>
const selected = ref('פיתות')

const categories = [
  {
    name: 'פיתות',
    items: [
      { name: 'פיתה שווארמה', desc: 'שווארמה הודו, טחינה, סלט', price: '30₪', img: 'https://img.freepik.com/free-photo/middle-eastern-kebab-wrap-with-french-fries_114579-4086.jpg' },
      { name: 'פלאפל', desc: 'פלאפל עם חומוס וסלטים טריים', price: '20₪', img: 'https://img.freepik.com/free-photo/delicious-falafel-served-with-salad_114579-2643.jpg' },
    ]
  },
  {
    name: 'צלחות',
    items: [
      { name: 'שווארמה בצלחת', desc: 'שווארמה עם חומוס, אורז, טחינה וסלט', price: '40₪', img: 'https://img.freepik.com/free-photo/chicken-shawarma-plate-with-rice_114579-4100.jpg' },
    ]
  },
  {
    name: 'שתייה',
    items: [
      { name: 'קולה', desc: 'קולה קרה בקבוק 500מ"ל', price: '7₪', img: 'https://img.freepik.com/free-photo/cold-cola-glass_144627-16227.jpg' },
      { name: 'מים מינרליים', desc: 'מים קרים, רגילים או מוגזים', price: '5₪', img: 'https://img.freepik.com/free-photo/glass-cold-water-table_1150-38357.jpg' },
    ]
  },
]

const filteredCategories = computed(() => categories.filter(c => c.name === selected.value))
</script>
